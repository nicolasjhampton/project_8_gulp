!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","jquery"],e)}(function(e,t){"use strict";var i=e("jquery");t.jQuery=i,function(e){e.fn.autogrow=function(t){function i(i){var n,o=e(this),s=o.innerHeight(),c=this.scrollHeight,a=o.data("autogrow-start-height")||0;if(s<c)this.scrollTop=0,t.animate?o.stop().animate({height:c},t.speed):o.innerHeight(c);else if(!i||8==i.which||46==i.which||i.ctrlKey&&88==i.which)if(s>a){n=o.clone().addClass(t.cloneClass).css({position:"absolute",zIndex:-10,height:""}).val(o.val()),o.after(n);do c=n[0].scrollHeight-1,n.innerHeight(c);while(c===n[0].scrollHeight);c++,n.remove(),o.focus(),c<a&&(c=a),s>c&&t.animate?o.stop().animate({height:c},t.speed):o.innerHeight(c)}else o.innerHeight(a)}var n=e(this).css({overflow:"hidden",resize:"none"}),o=n.selector,s={context:e(document),animate:!0,speed:200,fixMinHeight:!0,cloneClass:"autogrowclone",onInitialize:!1};return t=e.isPlainObject(t)?t:{context:t?t:e(document)},t=e.extend({},s,t),n.each(function(n,o){var s,c;o=e(o),o.is(":visible")||parseInt(o.css("height"),10)>0?s=parseInt(o.css("height"),10)||o.innerHeight():(c=o.clone().addClass(t.cloneClass).val(o.val()).css({position:"absolute",visibility:"hidden",display:"block"}),e("body").append(c),s=c.innerHeight(),c.remove()),t.fixMinHeight&&o.data("autogrow-start-height",s),o.css("height",s),t.onInitialize&&o.length&&i.call(o[0])}),t.context.on("keyup paste",o,i),n}}(i)}),function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","./autogrow"],e)}(function(e,t){"use strict";e("./autogrow"),$(document).ready(function(){$("textarea").autogrow({onInitialize:!0}),$(".circle--clone--list").on("click",".circle--clone--add",function(){var e=$(this).parent("li"),t=e.clone();e.after(t),t.find("input, textarea, select").val(""),t.find("*:first-child").focus()}),$(".circle--clone--list").on("click","li:not(:only-child) .circle--clone--remove",function(){var e=$(this).parent("li");e.remove()}),$(".circle--pill--list a").click(function(){$(".circle--pill--list a").removeClass("selected"),$(this).addClass("selected")}),$(".circle--select select").focus(function(){$(this).parent().addClass("focus")}).blur(function(){$(this).parent().removeClass("focus")}),$(".clickable-row").click(function(){var e=$(this).data("href"),t=$(this).data("target");$(this).attr("data-target")?window.open(e,t):window.open(e,"_self")});var e=$(".circle--input--file"),t=e.data("text"),i=e.data("state");e.wrap(function(){return"<a class='button "+i+"'>"+t+"</div>"})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5taW4uanMiLCJjaXJjbGUvYXV0b2dyb3cudHMiLCJjaXJjbGUvY2lyY2xlLnRzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJtb2R1bGUiLCJleHBvcnRzIiwidiIsInJlcXVpcmUiLCJ1bmRlZmluZWQiLCJkZWZpbmUiLCJhbWQiLCJqUXVlcnkiLCJlIiwiZm4iLCJhdXRvZ3JvdyIsInQiLCJzIiwibiIsInUiLCJyIiwidGhpcyIsImkiLCJpbm5lckhlaWdodCIsInNjcm9sbEhlaWdodCIsIm8iLCJkYXRhIiwic2Nyb2xsVG9wIiwiYW5pbWF0ZSIsInN0b3AiLCJoZWlnaHQiLCJzcGVlZCIsIndoaWNoIiwiY3RybEtleSIsImNsb25lIiwiYWRkQ2xhc3MiLCJjbG9uZUNsYXNzIiwiY3NzIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJ2YWwiLCJhZnRlciIsInJlbW92ZSIsImZvY3VzIiwib3ZlcmZsb3ciLCJyZXNpemUiLCJzZWxlY3RvciIsImNvbnRleHQiLCJkb2N1bWVudCIsImZpeE1pbkhlaWdodCIsIm9uSW5pdGlhbGl6ZSIsImlzUGxhaW5PYmplY3QiLCJleHRlbmQiLCJlYWNoIiwiaXMiLCJwYXJzZUludCIsInZpc2liaWxpdHkiLCJkaXNwbGF5IiwiYXBwZW5kIiwibGVuZ3RoIiwiY2FsbCIsIm9uIiwiJCIsInJlYWR5IiwicGFyZW50IiwiY29weSIsImZpbmQiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiYmx1ciIsImxpbmsiLCJ0YXJnZXQiLCJhdHRyIiwid2luZG93Iiwib3BlbiIsImlucHV0IiwidGV4dCIsInN0YXRlIiwid3JhcCJdLCJtYXBwaW5ncyI6IkNBRUEsU0FBV0EsR0FDUCxHQUFzQixnQkFBWEMsU0FBaUQsZ0JBQW5CQSxRQUFPQyxRQUFzQixDQUNsRSxHQUFJQyxHQUFJSCxFQUFRSSxRQUFTRixRQUFvQkcsVUFBTkYsSUFBaUJGLE9BQU9DLFFBQVVDLE9BRWxELGtCQUFYRyxTQUF5QkEsT0FBT0MsS0FDNUNELFFBQVEsVUFBVyxV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QUFjLElBSXRDWSxFQUFFLHdCQUF3QkQsR0FBRyxRQUFTLHNCQUF1QixXQUMzRCxHQUFJRyxHQUFTRixFQUFFekMsTUFBTTJDLE9BQU8sTUFDeEJDLEVBQU9ELEVBQU85QixPQUNsQjhCLEdBQU92QixNQUFNd0IsR0FDYkEsRUFBS0MsS0FBSywyQkFBMkIxQixJQUFJLElBQ3pDeUIsRUFBS0MsS0FBSyxpQkFBaUJ2QixVQUc3Qm1CLEVBQUUsd0JBQXdCRCxHQUFHLFFBQVMsNkNBQThDLFdBQ2xGLEdBQUlHLEdBQVNGLEVBQUV6QyxNQUFNMkMsT0FBTyxLQUM1QkEsR0FBT3RCLFdBSVRvQixFQUFFLHlCQUF5QkssTUFBTSxXQUMvQkwsRUFBRSx5QkFBeUJNLFlBQVksWUFDdkNOLEVBQUV6QyxNQUFNYyxTQUFTLGNBSW5CMkIsRUFBRSwwQkFBMEJuQixNQUFNLFdBQ2pDbUIsRUFBRXpDLE1BQU0yQyxTQUFTN0IsU0FBUyxXQUN2QmtDLEtBQUssV0FDTlAsRUFBRXpDLE1BQU0yQyxTQUFTSSxZQUFZLFdBSWhDTixFQUFFLGtCQUFrQkssTUFBTSxXQUN0QixHQUFJRyxHQUFPUixFQUFFekMsTUFBTUssS0FBSyxRQUNwQjZDLEVBQVNULEVBQUV6QyxNQUFNSyxLQUFLLFNBRXRCb0MsR0FBRXpDLE1BQU1tRCxLQUFLLGVBQ2ZDLE9BQU9DLEtBQUtKLEVBQU1DLEdBR2xCRSxPQUFPQyxLQUFLSixFQUFNLFVBS3hCLElBQUlLLEdBQVFiLEVBQUUsd0JBQ1ZjLEVBQU9ELEVBQU1qRCxLQUFLLFFBQ2xCbUQsRUFBUUYsRUFBTWpELEtBQUssUUFDdkJpRCxHQUFNRyxLQUFLLFdBQ1QsTUFBTyxvQkFBc0JELEVBQVEsS0FBT0QsRUFBTyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciB2ID0gZmFjdG9yeShyZXF1aXJlLCBleHBvcnRzKTsgaWYgKHYgIT09IHVuZGVmaW5lZCkgbW9kdWxlLmV4cG9ydHMgPSB2O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsICdqcXVlcnknXSwgZmFjdG9yeSk7XG4gICAgfVxufSkoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgalF1ZXJ5ID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG4gICAgZXhwb3J0cy5qUXVlcnkgPSBqUXVlcnk7XG4gICAgLypcbiAgICBhdXRvZ3Jvdy5qcyAtIENvcHlyaWdodCAoQykgMjAxNCwgSmFzb24gRWRlbG1hbiA8ZWRlbG1hbi5qYXNvbkBnbWFpbC5jb20+XG4gICAgXG4gICAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZFxuICAgIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICAgIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4gICAgc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvXG4gICAgZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICAgIFxuICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICAgIFxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1RcbiAgICBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTExcbiAgICBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GXG4gICAgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbiAgICBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gICAgKi9cbiAgICA7XG4gICAgKGZ1bmN0aW9uIChlKSB7IGUuZm4uYXV0b2dyb3cgPSBmdW5jdGlvbiAodCkgeyBmdW5jdGlvbiBzKG4pIHsgdmFyIHIgPSBlKHRoaXMpLCBpID0gci5pbm5lckhlaWdodCgpLCBzID0gdGhpcy5zY3JvbGxIZWlnaHQsIG8gPSByLmRhdGEoXCJhdXRvZ3Jvdy1zdGFydC1oZWlnaHRcIikgfHwgMCwgdTsgaWYgKGkgPCBzKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgdC5hbmltYXRlID8gci5zdG9wKCkuYW5pbWF0ZSh7IGhlaWdodDogcyB9LCB0LnNwZWVkKSA6IHIuaW5uZXJIZWlnaHQocyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFuIHx8IG4ud2hpY2ggPT0gOCB8fCBuLndoaWNoID09IDQ2IHx8IG4uY3RybEtleSAmJiBuLndoaWNoID09IDg4KSB7XG4gICAgICAgIGlmIChpID4gbykge1xuICAgICAgICAgICAgdSA9IHIuY2xvbmUoKS5hZGRDbGFzcyh0LmNsb25lQ2xhc3MpLmNzcyh7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHpJbmRleDogLTEwLCBoZWlnaHQ6IFwiXCIgfSkudmFsKHIudmFsKCkpO1xuICAgICAgICAgICAgci5hZnRlcih1KTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBzID0gdVswXS5zY3JvbGxIZWlnaHQgLSAxO1xuICAgICAgICAgICAgICAgIHUuaW5uZXJIZWlnaHQocyk7XG4gICAgICAgICAgICB9IHdoaWxlIChzID09PSB1WzBdLnNjcm9sbEhlaWdodCk7XG4gICAgICAgICAgICBzKys7XG4gICAgICAgICAgICB1LnJlbW92ZSgpO1xuICAgICAgICAgICAgci5mb2N1cygpO1xuICAgICAgICAgICAgcyA8IG8gJiYgKHMgPSBvKTtcbiAgICAgICAgICAgIGkgPiBzICYmIHQuYW5pbWF0ZSA/IHIuc3RvcCgpLmFuaW1hdGUoeyBoZWlnaHQ6IHMgfSwgdC5zcGVlZCkgOiByLmlubmVySGVpZ2h0KHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgci5pbm5lckhlaWdodChvKTtcbiAgICAgICAgfVxuICAgIH0gfSB2YXIgbiA9IGUodGhpcykuY3NzKHsgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsIHJlc2l6ZTogXCJub25lXCIgfSksIHIgPSBuLnNlbGVjdG9yLCBpID0geyBjb250ZXh0OiBlKGRvY3VtZW50KSwgYW5pbWF0ZTogdHJ1ZSwgc3BlZWQ6IDIwMCwgZml4TWluSGVpZ2h0OiB0cnVlLCBjbG9uZUNsYXNzOiBcImF1dG9ncm93Y2xvbmVcIiwgb25Jbml0aWFsaXplOiBmYWxzZSB9OyB0ID0gZS5pc1BsYWluT2JqZWN0KHQpID8gdCA6IHsgY29udGV4dDogdCA/IHQgOiBlKGRvY3VtZW50KSB9OyB0ID0gZS5leHRlbmQoe30sIGksIHQpOyBuLmVhY2goZnVuY3Rpb24gKG4sIHIpIHsgdmFyIGksIG87IHIgPSBlKHIpOyBpZiAoci5pcyhcIjp2aXNpYmxlXCIpIHx8IHBhcnNlSW50KHIuY3NzKFwiaGVpZ2h0XCIpLCAxMCkgPiAwKSB7XG4gICAgICAgIGkgPSBwYXJzZUludChyLmNzcyhcImhlaWdodFwiKSwgMTApIHx8IHIuaW5uZXJIZWlnaHQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG8gPSByLmNsb25lKCkuYWRkQ2xhc3ModC5jbG9uZUNsYXNzKS52YWwoci52YWwoKSkuY3NzKHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0pO1xuICAgICAgICBlKFwiYm9keVwiKS5hcHBlbmQobyk7XG4gICAgICAgIGkgPSBvLmlubmVySGVpZ2h0KCk7XG4gICAgICAgIG8ucmVtb3ZlKCk7XG4gICAgfSBpZiAodC5maXhNaW5IZWlnaHQpIHtcbiAgICAgICAgci5kYXRhKFwiYXV0b2dyb3ctc3RhcnQtaGVpZ2h0XCIsIGkpO1xuICAgIH0gci5jc3MoXCJoZWlnaHRcIiwgaSk7IGlmICh0Lm9uSW5pdGlhbGl6ZSAmJiByLmxlbmd0aCkge1xuICAgICAgICBzLmNhbGwoclswXSk7XG4gICAgfSB9KTsgdC5jb250ZXh0Lm9uKFwia2V5dXAgcGFzdGVcIiwgciwgcyk7IHJldHVybiBuOyB9OyB9KShqUXVlcnkpO1xufSk7XG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciB2ID0gZmFjdG9yeShyZXF1aXJlLCBleHBvcnRzKTsgaWYgKHYgIT09IHVuZGVmaW5lZCkgbW9kdWxlLmV4cG9ydHMgPSB2O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsICcuL2F1dG9ncm93J10sIGZhY3RvcnkpO1xuICAgIH1cbn0pKGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgcmVxdWlyZSgnLi9hdXRvZ3JvdycpO1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgndGV4dGFyZWEnKS5hdXRvZ3Jvdyh7IG9uSW5pdGlhbGl6ZTogdHJ1ZSB9KTtcbiAgICAgICAgLy9DbG9uZXIgZm9yIGluZmluaXRlIGlucHV0IGxpc3RzXG4gICAgICAgICQoXCIuY2lyY2xlLS1jbG9uZS0tbGlzdFwiKS5vbihcImNsaWNrXCIsIFwiLmNpcmNsZS0tY2xvbmUtLWFkZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoXCJsaVwiKTtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gcGFyZW50LmNsb25lKCk7XG4gICAgICAgICAgICBwYXJlbnQuYWZ0ZXIoY29weSk7XG4gICAgICAgICAgICBjb3B5LmZpbmQoXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiKS52YWwoXCJcIik7XG4gICAgICAgICAgICBjb3B5LmZpbmQoXCIqOmZpcnN0LWNoaWxkXCIpLmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFwiLmNpcmNsZS0tY2xvbmUtLWxpc3RcIikub24oXCJjbGlja1wiLCBcImxpOm5vdCg6b25seS1jaGlsZCkgLmNpcmNsZS0tY2xvbmUtLXJlbW92ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoXCJsaVwiKTtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZHMgY2xhc3MgdG8gc2VsZWN0ZWQgaXRlbVxuICAgICAgICAkKFwiLmNpcmNsZS0tcGlsbC0tbGlzdCBhXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuY2lyY2xlLS1waWxsLS1saXN0IGFcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFkZHMgY2xhc3MgdG8gcGFyZW50IGRpdiBvZiBzZWxlY3QgbWVudVxuICAgICAgICAkKFwiLmNpcmNsZS0tc2VsZWN0IHNlbGVjdFwiKS5mb2N1cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKFwiZm9jdXNcIik7XG4gICAgICAgIH0pLmJsdXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImZvY3VzXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2xpY2thYmxlIHRhYmxlIHJvd1xuICAgICAgICAkKFwiLmNsaWNrYWJsZS1yb3dcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpLmRhdGEoXCJocmVmXCIpO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuZGF0YShcInRhcmdldFwiKTtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJkYXRhLXRhcmdldFwiKSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGxpbmssIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihsaW5rLCBcIl9zZWxmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ3VzdG9tIEZpbGUgSW5wdXRzXG4gICAgICAgIHZhciBpbnB1dCA9ICQoXCIuY2lyY2xlLS1pbnB1dC0tZmlsZVwiKTtcbiAgICAgICAgdmFyIHRleHQgPSBpbnB1dC5kYXRhKFwidGV4dFwiKTtcbiAgICAgICAgdmFyIHN0YXRlID0gaW5wdXQuZGF0YShcInN0YXRlXCIpO1xuICAgICAgICBpbnB1dC53cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjxhIGNsYXNzPSdidXR0b24gXCIgKyBzdGF0ZSArIFwiJz5cIiArIHRleHQgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIiwiaW1wb3J0ICogYXMgalF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG4vKlxuYXV0b2dyb3cuanMgLSBDb3B5cmlnaHQgKEMpIDIwMTQsIEphc29uIEVkZWxtYW4gPGVkZWxtYW4uamFzb25AZ21haWwuY29tPlxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kXG5hc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbndpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG5zZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG9cbmRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1RcbkxJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTFxuVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRlxuQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVJcbkRFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG47KGZ1bmN0aW9uKGUpe2UuZm4uYXV0b2dyb3c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcyhuKXt2YXIgcj1lKHRoaXMpLGk9ci5pbm5lckhlaWdodCgpLHM9dGhpcy5zY3JvbGxIZWlnaHQsbz1yLmRhdGEoXCJhdXRvZ3Jvdy1zdGFydC1oZWlnaHRcIil8fDAsdTtpZihpPHMpe3RoaXMuc2Nyb2xsVG9wPTA7dC5hbmltYXRlP3Iuc3RvcCgpLmFuaW1hdGUoe2hlaWdodDpzfSx0LnNwZWVkKTpyLmlubmVySGVpZ2h0KHMpfWVsc2UgaWYoIW58fG4ud2hpY2g9PTh8fG4ud2hpY2g9PTQ2fHxuLmN0cmxLZXkmJm4ud2hpY2g9PTg4KXtpZihpPm8pe3U9ci5jbG9uZSgpLmFkZENsYXNzKHQuY2xvbmVDbGFzcykuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsekluZGV4Oi0xMCxoZWlnaHQ6XCJcIn0pLnZhbChyLnZhbCgpKTtyLmFmdGVyKHUpO2Rve3M9dVswXS5zY3JvbGxIZWlnaHQtMTt1LmlubmVySGVpZ2h0KHMpfXdoaWxlKHM9PT11WzBdLnNjcm9sbEhlaWdodCk7cysrO3UucmVtb3ZlKCk7ci5mb2N1cygpO3M8byYmKHM9byk7aT5zJiZ0LmFuaW1hdGU/ci5zdG9wKCkuYW5pbWF0ZSh7aGVpZ2h0OnN9LHQuc3BlZWQpOnIuaW5uZXJIZWlnaHQocyl9ZWxzZXtyLmlubmVySGVpZ2h0KG8pfX19dmFyIG49ZSh0aGlzKS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIscmVzaXplOlwibm9uZVwifSkscj1uLnNlbGVjdG9yLGk9e2NvbnRleHQ6ZShkb2N1bWVudCksYW5pbWF0ZTp0cnVlLHNwZWVkOjIwMCxmaXhNaW5IZWlnaHQ6dHJ1ZSxjbG9uZUNsYXNzOlwiYXV0b2dyb3djbG9uZVwiLG9uSW5pdGlhbGl6ZTpmYWxzZX07dD1lLmlzUGxhaW5PYmplY3QodCk/dDp7Y29udGV4dDp0P3Q6ZShkb2N1bWVudCl9O3Q9ZS5leHRlbmQoe30saSx0KTtuLmVhY2goZnVuY3Rpb24obixyKXt2YXIgaSxvO3I9ZShyKTtpZihyLmlzKFwiOnZpc2libGVcIil8fHBhcnNlSW50KHIuY3NzKFwiaGVpZ2h0XCIpLDEwKT4wKXtpPXBhcnNlSW50KHIuY3NzKFwiaGVpZ2h0XCIpLDEwKXx8ci5pbm5lckhlaWdodCgpfWVsc2V7bz1yLmNsb25lKCkuYWRkQ2xhc3ModC5jbG9uZUNsYXNzKS52YWwoci52YWwoKSkuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSk7ZShcImJvZHlcIikuYXBwZW5kKG8pO2k9by5pbm5lckhlaWdodCgpO28ucmVtb3ZlKCl9aWYodC5maXhNaW5IZWlnaHQpe3IuZGF0YShcImF1dG9ncm93LXN0YXJ0LWhlaWdodFwiLGkpfXIuY3NzKFwiaGVpZ2h0XCIsaSk7aWYodC5vbkluaXRpYWxpemUmJnIubGVuZ3RoKXtzLmNhbGwoclswXSl9fSk7dC5jb250ZXh0Lm9uKFwia2V5dXAgcGFzdGVcIixyLHMpO3JldHVybiBufX0pKGpRdWVyeSk7XG5cbmV4cG9ydCB7alF1ZXJ5fTtcbiIsImltcG9ydCAnLi9hdXRvZ3Jvdyc7XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgJCgndGV4dGFyZWEnKS5hdXRvZ3Jvdyh7b25Jbml0aWFsaXplOiB0cnVlfSk7XG5cblxuICAvL0Nsb25lciBmb3IgaW5maW5pdGUgaW5wdXQgbGlzdHNcbiAgJChcIi5jaXJjbGUtLWNsb25lLS1saXN0XCIpLm9uKFwiY2xpY2tcIiwgXCIuY2lyY2xlLS1jbG9uZS0tYWRkXCIsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBhcmVudCA9ICQodGhpcykucGFyZW50KFwibGlcIik7XG4gICAgdmFyIGNvcHkgPSBwYXJlbnQuY2xvbmUoKTtcbiAgICBwYXJlbnQuYWZ0ZXIoY29weSk7XG4gICAgY29weS5maW5kKFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIikudmFsKFwiXCIpO1xuICAgIGNvcHkuZmluZChcIio6Zmlyc3QtY2hpbGRcIikuZm9jdXMoKTtcbiAgfSk7XG5cbiAgJChcIi5jaXJjbGUtLWNsb25lLS1saXN0XCIpLm9uKFwiY2xpY2tcIiwgXCJsaTpub3QoOm9ubHktY2hpbGQpIC5jaXJjbGUtLWNsb25lLS1yZW1vdmVcIiwgZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoXCJsaVwiKTtcbiAgICBwYXJlbnQucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIEFkZHMgY2xhc3MgdG8gc2VsZWN0ZWQgaXRlbVxuICAkKFwiLmNpcmNsZS0tcGlsbC0tbGlzdCBhXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQoXCIuY2lyY2xlLS1waWxsLS1saXN0IGFcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XG4gIH0pO1xuXG4gIC8vIEFkZHMgY2xhc3MgdG8gcGFyZW50IGRpdiBvZiBzZWxlY3QgbWVudVxuICAkKFwiLmNpcmNsZS0tc2VsZWN0IHNlbGVjdFwiKS5mb2N1cyhmdW5jdGlvbigpe1xuICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcImZvY3VzXCIpO1xuICAgfSkuYmx1cihmdW5jdGlvbigpe1xuICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZm9jdXNcIik7XG4gICB9KTtcblxuICAvLyBDbGlja2FibGUgdGFibGUgcm93XG4gICQoXCIuY2xpY2thYmxlLXJvd1wiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5rID0gJCh0aGlzKS5kYXRhKFwiaHJlZlwiKTtcbiAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmRhdGEoXCJ0YXJnZXRcIik7XG5cbiAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJkYXRhLXRhcmdldFwiKSkge1xuICAgICAgICB3aW5kb3cub3BlbihsaW5rLCB0YXJnZXQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGxpbmssIFwiX3NlbGZcIik7XG4gICAgICB9XG4gIH0pO1xuXG4gIC8vIEN1c3RvbSBGaWxlIElucHV0c1xuICB2YXIgaW5wdXQgPSAkKFwiLmNpcmNsZS0taW5wdXQtLWZpbGVcIik7XG4gIHZhciB0ZXh0ID0gaW5wdXQuZGF0YShcInRleHRcIik7XG4gIHZhciBzdGF0ZSA9IGlucHV0LmRhdGEoXCJzdGF0ZVwiKTtcbiAgaW5wdXQud3JhcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCI8YSBjbGFzcz0nYnV0dG9uIFwiICsgc3RhdGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2Rpdj5cIjtcbiAgfSk7XG5cblxuXG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
